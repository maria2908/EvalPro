<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EvalPro - Start</title>
     <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="header">
    <div class="headerLeft">
      <div class="logoWrapper">
        <img src="assets/logo.svg" alt="Stadt Regensburg Logo" />
      </div>
        <button class="homeWrapper" onClick="loadPage('dashboard/dashboard')"  href="/pages/dashboard/uebersicht.html">
          <img src="assets/house.svg" height="40px" width="40px" alt="Dashbord" />
        </a>
    </div>
    <div class="headerRight">
      <p>Sch√ºler Name oder Ausschuss</p>
    </div>
  </div>
  
  <main id="content"></main>

  <script>
    let currentScript = null;

    function loadPage(page) {
      fetch(`/pages/${page}/${page}.html`)
        .then(res => res.text())
        .then(html => {
          document.getElementById("content").innerHTML = html;
          loadPageScript(page);
        })
        .catch(err => console.error("Fehler beim Laden:", err));
    }

    function loadPageScript(page) {
      if (currentScript) {
        currentScript.remove();
      }

      currentScript = document.createElement("script");
      currentScript.src = `/pages/${page}/script.js`;
      currentScript.defer = true;
      console.log(currentScript);
      
      document.body.appendChild(currentScript);
    }

    // Startseite
    loadPage("dashboard");
  </script>
</body>
</html>